<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>1.1. Lab 01: User Accounts, Web Content, &amp; Text Stream &mdash; ist5001 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=7dcbe144" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.2. Homework 01: Linux Basics" href="02.homework1.html" />
    <link rel="prev" title="1. Week 1" href="week1.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ist5001
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="week1.html">1. Week 1</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.1. Lab 01: User Accounts, Web Content, &amp; Text Stream</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#part-0-introduction">1.1.1. Part 0: Introduction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-1-managing-user-accounts-directories">1.1.2. Part 1. Managing User Accounts &amp; Directories</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#access-your-vm">1.1.2.1. 1.1 Access Your VM</a></li>
<li class="toctree-l4"><a class="reference internal" href="#create-accounts">1.1.2.2. 1.2 Create Accounts</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#create-and-remove-directories">1.1.3. 1.3 Create And Remove Directories</a></li>
<li class="toctree-l3"><a class="reference internal" href="#remotely-copy-and-then-decompress-file">1.1.4. 1.4 Remotely Copy And Then Decompress File</a></li>
<li class="toctree-l3"><a class="reference internal" href="#check-your-work">1.1.5. 1.5 Check Your Work</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-2-managing-web-content">1.1.6. Part 2. Managing Web Content</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#configure-apache-http-server">1.1.6.1. 2.1 Configure Apache HTTP Server</a></li>
<li class="toctree-l4"><a class="reference internal" href="#verifying-web-server-status">1.1.6.2. 2.2 Verifying Web Server Status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#expanding-your-website">1.1.6.3. 2.3 Expanding Your Website</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id1">1.1.6.4. 2.4 Check Your Work</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#part-3-redirecting-text-streams">1.1.7. Part 3. Redirecting Text Streams</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id2">1.1.7.1. Check Your Work</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="02.homework1.html">1.2. Homework 01: Linux Basics</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../02.week2/week2.html">2. Week 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../03.week3/week3.html">3. Week 3</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ist5001</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="week1.html"><span class="section-number">1. </span>Week 1</a></li>
      <li class="breadcrumb-item active"><span class="section-number">1.1. </span>Lab 01: User Accounts, Web Content, &amp; Text Stream</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/01.week1/01.lab1.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="lab-01-user-accounts-web-content-text-stream">
<h1><span class="section-number">1.1. </span>Lab 01: User Accounts, Web Content, &amp; Text Stream<a class="headerlink" href="#lab-01-user-accounts-web-content-text-stream" title="Link to this heading"></a></h1>
<div class="admonition-assignment-instruction admonition">
<p class="admonition-title">Assignment Instruction</p>
<p>To successfully complete this assignment, you are advised to pay attention to the following:</p>
<ol class="arabic simple">
<li><p><strong>Follow instructions:</strong> Read, interpret, and follow instructions very carefully. Finish reading
the whole question and note the requirements before you start working on the question.</p></li>
<li><p><strong>Use resources:</strong> You may use any resources available to you via the web. You are
encouraged to discuss the problems with others before you sit down and attempt to answer
the questions.</p></li>
<li><p><strong>Work independently:</strong> While you are completing the questions, you are expected to work
on your own without direct help from other people (non-human resources such as search
engines are still allowed).</p></li>
<li><p><strong>Work together:</strong> Come to the office hours to work as a group on the interpretation of and
solutions to questions. When using text messaging, attach screenshots.</p></li>
<li><p><strong>For introduction to basic Linux and shell commands and special characters, see:</strong>
- <a class="reference external" href="https://bashnet.org/docs/linux_shell_commands.php">Linux &amp; shell basic commands</a>
- <a class="reference external" href="https://bashnet.org/docs/linux_special_characters.php">Linux &amp; shell special characters</a></p></li>
</ol>
</div>
<div class="admonition-getting-started admonition">
<p class="admonition-title">Getting Started</p>
<ol class="arabic simple">
<li><p><strong>Class directory:</strong> To begin this assignment, make sure you navigate into the class directory
under your user home directory.</p></li>
<li><p><strong>scp the tar file:</strong> Use <cite>scp</cite> to copy the tar file <cite>a01.tar.gz</cite> from <cite>datacenter&#64;tychen.us</cite> to your
<cite>~/class</cite> directory. The command is: <cite>scp datacenter&#64;tychen.us:~/class/labs/a01.tar.gz .</cite>
(### don’t forget the “ . ” at the end of the command) and the password is <cite>InCharge56!</cite></p></li>
<li><p><strong>Unzip the tar file:</strong> Extract the contents of the tar file: <cite>tar -xf a01.tar.gz</cite>. Once the files
are extracted, you should see the <cite>a01</cite> folder (a directory containing several directories and
files) in your class directory. These are the files you need to complete this assignment.</p></li>
<li><p><strong>a01:</strong> Unless otherwise specified in the question, all file names are given relative to the
directory <cite>~/class/a01</cite>.</p></li>
<li><p><strong>Passwords:</strong> All the account names and the corresponding passwords are recorded in
Canvas Assignment <cite>a00</cite>, where you keep them updated.</p></li>
</ol>
</div>
<div class="admonition-when-you-are-done admonition">
<p class="admonition-title">When You Are Done</p>
<p>When you have completed the assignment:</p>
<ol class="arabic">
<li><p><strong>done.sh:</strong> Run the script <cite>done.sh</cite> in <cite>~/class</cite> as follows:
<cite>./done.sh firstname lastname a01</cite> (The <cite>done.sh</cite> script is part of Assignment <cite>h01</cite>.)</p></li>
<li><p><strong>lab01.txt:</strong> The <cite>done.sh</cite> script will check your answers and create a new .txt called <cite>lab01.txt</cite>
in the <cite>a01</cite> directory that you will need to submit to Canvas for assignment <cite>a01</cite>.</p></li>
<li><p><strong>Download lab01.txt to submit to Canvas:</strong> From your local computer terminal (cmd or
PowerShell for Windows and Terminal for macOS), change into a folder (e.g., <cite>cd
Documents</cite> to go into your Documents folder). Use the <cite>scp</cite> command to copy your
submission file from your VM to your local computer’s Documents folder:
<cite>scp YOUR_USERNAME&#64;YOUR_VM_IP_ADDRESS:~/class/a01/lab01.txt .</cite></p>
<p><strong>Note:</strong> You can run the <cite>done.sh</cite> script at any point when you are working on the assignment
and the content of the generated <cite>lab01.txt</cite> may be helpful in addition to the check scripts in
each question. However, you must run it just prior to submitting the generated <cite>lab01.txt</cite> file
in your <cite>class/a01</cite> directory to Canvas to make sure you are submitting the most recent file.
<strong>Note:</strong> To see your VM’s IP address, run <cite>ip addr</cite> or <cite>ifconfig</cite> (installation of netools required).</p>
</li>
</ol>
</div>
<section id="part-0-introduction">
<h2><span class="section-number">1.1.1. </span>Part 0: Introduction<a class="headerlink" href="#part-0-introduction" title="Link to this heading"></a></h2>
<p>This lab introduces you to the following Linux operations:</p>
<ol class="arabic simple">
<li><p>Creating the user accounts you will use later on and record their passwords in a secure
location (assignment <cite>a00</cite> on Canvas).</p></li>
<li><p>Creating the directories and directory structure needed for this class.</p></li>
<li><p>Configuring your web server to test and expand the website using content from another
computer.</p></li>
<li><p>Creating and redirecting text streams.</p></li>
<li><p>Manipulate text streams using output redirection operators.</p></li>
</ol>
<p>We need access to a virtual machine (VM) to work on these operations. To subscribe,
configure, and connect to a VM, please follow the following documents:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://bashnet.org/docs/01-01.vm-subscription.pdf">Subscribe to VM/VPS Plan</a></p></li>
<li><p><a class="reference external" href="https://bashnet.org/docs/01-03.configure-firewall.pdf">Configure VM Firewall</a></p></li>
<li><p><a class="reference external" href="https://bashnet.org/docs/01-02.obtain-ip-root-password.pdf">Obtain IP Address and root Password</a></p></li>
<li><p><a class="reference external" href="https://bashnet.org/docs/01-04.connect-to-vm.pdf">Connect to VM</a></p></li>
</ul>
<p>We also need to install the LAMP (Linux, Apache, MySQL, and PHP) technology stack in our VM for use later. To do that, we need to issue the following commands as an administrator (admin/sudoer):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>apt<span class="w"> </span>update<span class="w">          </span><span class="c1"># always update first when &quot;apt install&quot;</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>apache2<span class="w"> </span><span class="c1"># sudo systemctl status apache2 to check if the service is active</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>mysql-server<span class="w"> </span><span class="c1"># sudo systemctl status mysql to check if the service is active</span>
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>php<span class="w"> </span>libapache2-mod-php
</pre></div>
</div>
<p>Note that you are responsible for managing the virtual machine (VM) that will be used to complete your work. That includes user accounts, applications, and services such as the web server and database systems.</p>
<p>The first challenge for using Linux and other Unix-like systems is the use of a terminal to connect to your VM to handle the server computer operations. It adds a level of complexity as in contrast to using your local computing device but it is an industry common practice that you would want to get used to as soon as possible.</p>
<p>At first, remote into a VM using a terminal (command line interface, CLI) instead of graphic user interface (GUI) applications may seem intimidating. But you will become comfortable with the terminal in no time when you observe the simple patterns of how the commands work and realize there are only a small number of commands to use.</p>
<p>So, follow instructions carefully, document the changes you make, Google a lot, and learn from your mistakes. You will also feel at ease knowing that almost all the mistakes you can make will not damage the server system, not even the legendary <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">-rf</span> <span class="pre">/</span></code>.</p>
</section>
<section id="part-1-managing-user-accounts-directories">
<h2><span class="section-number">1.1.2. </span>Part 1. Managing User Accounts &amp; Directories<a class="headerlink" href="#part-1-managing-user-accounts-directories" title="Link to this heading"></a></h2>
<p>Using a command line text-based interface (CLI shell, such as Terminal.app for macOS, and cmd.exe or PowerShell for Windows), we will log into a Linux computer remotely. We will then use the default Bash shell interface to create two user accounts: a regular user account and an administrator account. A Linux administrator account is commonly referred as a sudo (super user do) user or “sudoer” because it can run commands with root privileges.</p>
<p>Using the non-administrator user account we created, we will create several directories and files. In addition, we will learn how to copy files from a remote host computer over the network to a designated location, and then decompress the copied archive file to acquire directories and files needed to complete this assignment. The same process will be used in every other assignment.</p>
<section id="access-your-vm">
<h3><span class="section-number">1.1.2.1. </span>1.1 Access Your VM<a class="headerlink" href="#access-your-vm" title="Link to this heading"></a></h3>
<p>Log in your virtual machine (VM) using the “root” user account (do not change its password).</p>
<p>Log into your VM as “root”:
Following the Connect to VM instruction provided to log in as the “root” user with your password. When logging in, since this is the first time you access this VM from your local computer, you will be promoted to save a security fingerprint. Type “yes” to agree and continue to provide the root user password, and you will be logged in as the root user:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>tychen@mac:~$ ssh chen_user@74.208.29.196          ### logging in from my MacBook terminal using ssh
The authenticity of host &#39;74.208.29.196 (74.208.29.196)&#39; can&#39;t be established.
ED25519 key fingerprint is SHA256:MALLUpcHilPxoPcvxdR9YOOSbBCTYoAeXJOjoOy9OgQ.
This key is not known by any other names
Are you sure you want to continue connecting (yes/no/[fingerprint])?
Warning: Permanently added &#39;74.208.29.196&#39; (ED25519) to the list of known hosts.
(chen_user@74.208.29.196) Password:
Last login: Sun Jan 28 04:18:24 2024 from 149.76.211.60
chen_user@localhost:~$
</pre></div>
</div>
<p>Congratulations! Now you are logged into your VM. You are ready to operate this server computer remotely.</p>
</section>
<section id="create-accounts">
<h3><span class="section-number">1.1.2.2. </span>1.2 Create Accounts<a class="headerlink" href="#create-accounts" title="Link to this heading"></a></h3>
<p>Use the root user account to create two accounts, one regular user account and one superuser (administrator) account.</p>
<p>The root superuser account (equivalent to Administrators group in Windows) is by default locked and cannot be used to login in Linux distributions such as Ubuntu. To exercise the root user privileges without the root password, we use sudo.</p>
<p>The command sudo needs to precede that the command the sudoer wants to execute, e.g., <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">adduser</span> <span class="pre">new_user_name</span></code>. In other words, to perform critical system operations (such as creating a user account), you will need to 1) log in as a sudoer to use the special administrator privileges, and 2) issue the command with the command sudo in its front to tell the system you would like to run the command with system administrator privileges. (Yes, this is a security measure.)</p>
<p>The first time you run sudo, you will be asked to provide the password for the sudoer account. The sudo session will last for 15 minutes by default, in which period you don’t have to type in “sudo” before commands again to run system-critical commands.</p>
<p>Create regular user account:
Now you will create one regular user account (non-sudoer) for yourself. The command adduser has syntax like <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">adduser</span> <span class="pre">username</span></code> with many options.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>adduser<span class="w"> </span><span class="o">[</span>--system<span class="o">]</span><span class="w"> </span><span class="o">[</span>--home<span class="w"> </span>DIR<span class="o">]</span><span class="w"> </span><span class="o">[</span>--shell<span class="w"> </span>SHELL<span class="o">]</span><span class="w"> </span><span class="o">[</span>--no-create-home<span class="o">]</span><span class="w"> </span><span class="o">[</span>--uid<span class="w"> </span>ID<span class="o">]</span>
<span class="w">        </span><span class="o">[</span>--firstuid<span class="w"> </span>ID<span class="o">]</span><span class="w"> </span><span class="o">[</span>--lastuid<span class="w"> </span>ID<span class="o">]</span><span class="w"> </span><span class="o">[</span>--ingroup<span class="w"> </span>GROUP<span class="w"> </span><span class="p">|</span><span class="w"> </span>--gid<span class="w"> </span>ID<span class="o">]</span>
<span class="w">        </span><span class="o">[</span>--disabled-password<span class="o">]</span><span class="w"> </span><span class="o">[</span>--disabled-login<span class="o">]</span><span class="w"> </span><span class="o">[</span>--gecos<span class="w"> </span>GECOS<span class="o">]</span>
<span class="w">        </span><span class="o">[</span>--add_extra_groups<span class="o">]</span><span class="w"> </span><span class="o">[</span>--encrypt-home<span class="o">]</span><span class="w"> </span><span class="o">[</span>--quiet<span class="o">]</span><span class="w"> </span><span class="o">[</span>--debug<span class="o">]</span>
<span class="w">        </span><span class="o">[</span>--force-badname<span class="o">]</span><span class="w"> </span><span class="o">[</span>--help<span class="p">|</span>-h<span class="o">]</span><span class="w"> </span><span class="o">[</span>--version<span class="o">]</span><span class="w"> </span><span class="o">[</span>--conf<span class="w"> </span>FILE<span class="o">]</span><span class="w">  </span>user
</pre></div>
</div>
<p>Here we don’t use any options since we are simply creating a regular user account (note that a group with same name as the user account will be automatically created): <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">adduser</span> <span class="pre">username</span></code>. You then will follow the prompts to give the UNIX account a password and identifiable information. Alternatively, you may just enter 6 times to complete the process without entering any personal information. As an example, we are using the root sudoer account to create a regular user account called “test_user”:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@vma50:~$<span class="w"> </span>sudo<span class="w"> </span>adduser<span class="w"> </span>test_user
<span class="o">[</span>sudo<span class="o">]</span><span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span>root:
Adding<span class="w"> </span>user<span class="w"> </span><span class="sb">`</span>test_user<span class="s1">&#39; ...</span>
<span class="s1">Adding new group `test_user&#39;</span><span class="w"> </span><span class="o">(</span><span class="m">1006</span><span class="o">)</span><span class="w"> </span>...
Adding<span class="w"> </span>new<span class="w"> </span>user<span class="w"> </span><span class="sb">`</span>test_user<span class="s1">&#39; (1006) with group `test_user&#39;</span><span class="w"> </span>...
Creating<span class="w"> </span>home<span class="w"> </span>directory<span class="w"> </span><span class="sb">`</span>/home/test_user<span class="s1">&#39; ...</span>
<span class="s1">Copying files from `/etc/skel&#39;</span><span class="w"> </span>...
Enter<span class="w"> </span>new<span class="w"> </span>UNIX<span class="w"> </span>password:
Retype<span class="w"> </span>new<span class="w"> </span>UNIX<span class="w"> </span>password:
passwd:<span class="w"> </span>password<span class="w"> </span>updated<span class="w"> </span>successfully
Changing<span class="w"> </span>the<span class="w"> </span>user<span class="w"> </span>information<span class="w"> </span><span class="k">for</span><span class="w"> </span>test_user
Enter<span class="w"> </span>the<span class="w"> </span>new<span class="w"> </span>value,<span class="w"> </span>or<span class="w"> </span>press<span class="w"> </span>ENTER<span class="w"> </span><span class="k">for</span><span class="w"> </span>the<span class="w"> </span>default
<span class="w">        </span>Full<span class="w"> </span>Name<span class="w"> </span><span class="o">[]</span>:<span class="w"> </span>John<span class="w"> </span>Thrasher
<span class="w">        </span>Room<span class="w"> </span>Number<span class="w"> </span><span class="o">[]</span>:<span class="w"> </span>LSB<span class="w"> </span><span class="m">008</span>
<span class="w">        </span>Work<span class="w"> </span>Phone<span class="w"> </span><span class="o">[]</span>:<span class="w"> </span><span class="m">202</span>-456-1111
<span class="w">        </span>Home<span class="w"> </span>Phone<span class="w"> </span><span class="o">[]</span>:<span class="w"> </span><span class="m">850</span>-644-1085
<span class="w">        </span>Other<span class="w"> </span><span class="o">[]</span>:<span class="w"> </span>What?????
Is<span class="w"> </span>the<span class="w"> </span>information<span class="w"> </span>correct?<span class="w"> </span><span class="o">[</span>Y/n<span class="o">]</span><span class="w"> </span>y
root@vma50:~$
</pre></div>
</div>
<p>Login as “root” to create a regular user account for your daily use. This user will NOT be a superuser or sudoer. Log out of the root user account and log back in with the newly created regular user account to verify the account information are correct. Record the account information in your a00.</p>
<p>Create your superuser account:
Create an administrator account by first creating a regular user account, then add the account into the system’s sudo group for administrative privileges. Adding a regular user account to the sudo group makes the user a sudoer. We use the command adduser with the syntax <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">adduser</span> <span class="pre">username</span> <span class="pre">groupname</span></code>. As demonstrated below, the created regular user “test_admin” is added to the sudo group to make it a sudoer:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>root@vma50:~$<span class="w"> </span>sudo<span class="w"> </span>adduser<span class="w"> </span>test_admin<span class="w"> </span>sudo
<span class="o">[</span>sudo<span class="o">]</span><span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span>root:
Adding<span class="w"> </span>user<span class="w"> </span><span class="sb">`</span>test_admin<span class="s1">&#39; to group `sudo&#39;</span><span class="w"> </span>...
Adding<span class="w"> </span>user<span class="w"> </span>test_admin<span class="w"> </span>to<span class="w"> </span>group<span class="w"> </span>sudo
Done.
administrator@vma50:~$
</pre></div>
</div>
<p>Following the examples, now let us create your sudoer account:
Create a regular user account ready for admin (it is suggested to have the string “admin” as part of the account name such as lastname_admin). Add this account into the sudo group. Record the account information in a00.</p>
<p>Check and record your work:
By the time you are done, you should have the following accounts:</p>
<ul class="simple">
<li><p>The original “root” account with a unique password</p></li>
<li><p>One regular user account</p></li>
<li><p>One administrator (sudoer) account</p></li>
</ul>
<p>This information of your VM should be stored on the Canvas course website under the assignment a00. You should record and update your own accounts and passwords. That will give you a secure backup to keep track of all of your virtual machine account information.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you need to change the password of a user, you need to login as a sudoer (admin) and use the passwd command; for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_adm@vma50:~$<span class="w"> </span>sudo<span class="w"> </span>passwd<span class="w"> </span>chen_user
<span class="o">[</span>sudo<span class="o">]</span><span class="w"> </span>password<span class="w"> </span><span class="k">for</span><span class="w"> </span>chen_adm:
Enter<span class="w"> </span>new<span class="w"> </span>UNIX<span class="w"> </span>password:
Retype<span class="w"> </span>new<span class="w"> </span>UNIX<span class="w"> </span>password:
passwd:<span class="w"> </span>password<span class="w"> </span>updated<span class="w"> </span>successfully
</pre></div>
</div>
<p>If you are logged in as a regular user and need to use the sudoer privileges, you may switch to a sudoer by using the su (switch user) command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@localhost:~$<span class="w"> </span>su<span class="w"> </span>chen_admin
Password:
chen_admin@localhost:/home/chen_user$<span class="w">      </span><span class="o">(</span><span class="c1"># note that you stay in the same directory with the prompt reflecting the new user)</span>
</pre></div>
</div>
</div>
</section>
</section>
<section id="create-and-remove-directories">
<h2><span class="section-number">1.1.3. </span>1.3 Create And Remove Directories<a class="headerlink" href="#create-and-remove-directories" title="Link to this heading"></a></h2>
<p>Create two sets of directories.</p>
<p>When you log into a Linux system, you are in the user home directory (<code class="docutils literal notranslate"><span class="pre">~</span></code>), which is where we want to create our directories.</p>
<p>We will use the <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> (make directory) command to create the directories/folders. The syntax of <code class="docutils literal notranslate"><span class="pre">mkdir</span></code> is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>mkdir<span class="w"> </span>directory_name<span class="w">  </span><span class="o">(</span><span class="c1"># create a single directory)</span>
</pre></div>
</div>
<p>or</p>
<blockquote>
<div><p>mkdir directory1 directory2 directory3… (# create multiple directories; note the space between the directory names)</p>
</div></blockquote>
<p>As an example, let us create three directories <code class="docutils literal notranslate"><span class="pre">dir1</span></code>, <code class="docutils literal notranslate"><span class="pre">dir2</span></code>, and <code class="docutils literal notranslate"><span class="pre">dir3</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@vma50:~$<span class="w"> </span>ls
chen_user@vma50:~$<span class="w"> </span>mkdir<span class="w"> </span>dir1<span class="w"> </span>dir2<span class="w"> </span>dir3
chen_user@vma50:~$<span class="w"> </span>ls
dir1<span class="w">  </span>dir2<span class="w">  </span>dir3
chen_user@vma50:~$
</pre></div>
</div>
<p>Now, let us remove the directories:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@vma50:~$<span class="w"> </span>rmdir<span class="w"> </span>dir1<span class="w"> </span>dir2<span class="w"> </span>dir3
chen_user@vma50:~$<span class="w"> </span>ls
chen_user@vma50:~$
</pre></div>
</div>
<ol class="upperalpha simple">
<li><p>Please follow the steps below to complete this task:</p></li>
</ol>
<ul class="simple">
<li><p>Make sure you are logged in your VM with your non-admin user account (“lastname_user”).</p></li>
<li><p>Within your user home directory (issue <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~</span></code> if you are somewhere else), create two directories: <code class="docutils literal notranslate"><span class="pre">class</span></code>, and <code class="docutils literal notranslate"><span class="pre">tests</span></code>.</p></li>
<li><p>Move into the <code class="docutils literal notranslate"><span class="pre">~/class</span></code> directory (<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~/class</span></code>), create the following directories: <code class="docutils literal notranslate"><span class="pre">a01</span></code>, <code class="docutils literal notranslate"><span class="pre">a02</span></code>, <code class="docutils literal notranslate"><span class="pre">a03</span></code>, <code class="docutils literal notranslate"><span class="pre">a04</span></code>, <code class="docutils literal notranslate"><span class="pre">a05</span></code>, <code class="docutils literal notranslate"><span class="pre">a06</span></code>, and <code class="docutils literal notranslate"><span class="pre">a07</span></code>.</p></li>
</ul>
</section>
<section id="remotely-copy-and-then-decompress-file">
<h2><span class="section-number">1.1.4. </span>1.4 Remotely Copy And Then Decompress File<a class="headerlink" href="#remotely-copy-and-then-decompress-file" title="Link to this heading"></a></h2>
<p>We will remotely copy the compressed tar.gz assignment file and decompress it to use the directories and files inside. (<code class="docutils literal notranslate"><span class="pre">#tar</span></code> means tape archive and <code class="docutils literal notranslate"><span class="pre">gz</span></code> means archive file compressed by the standard GNU zip, gzip, compression algorithm)</p>
<ol class="upperalpha simple">
<li><p>Remotely copy the assignment archive file</p></li>
</ol>
<p>We will use the <code class="docutils literal notranslate"><span class="pre">scp</span></code> (secure copy) command for this task to copy files among hosts in a network (whereas <code class="docutils literal notranslate"><span class="pre">cp</span></code> is used to copy files locally in a computer). The <code class="docutils literal notranslate"><span class="pre">scp</span></code> syntax is <code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">[-options]</span> <span class="pre">source</span> <span class="pre">destination</span></code>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>scp<span class="w"> </span><span class="o">[</span>OPTIONS<span class="o">]</span><span class="w"> </span>user@SOURCE_HOST:path/filename<span class="w"> </span>user@DESTINATION_HOST:path/filename
</pre></div>
</div>
<p>Here in this assignment, we use the <code class="docutils literal notranslate"><span class="pre">.</span></code> to indicate that the destination is the current path and we don’t want to change the filename. The password for the datacenter account at tychen.us is: InCharge56!</p>
<p>With the directories created, navigate (<code class="docutils literal notranslate"><span class="pre">cd</span></code>, change directory) into your <code class="docutils literal notranslate"><span class="pre">~/class</span></code> directory, then copy the file <code class="docutils literal notranslate"><span class="pre">a01.tar.gz</span></code> from the computer <code class="docutils literal notranslate"><span class="pre">tychen.us</span></code> into your class directory. The process is as follows (and as in the Introduction part above):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>~/class
scp<span class="w"> </span>datacenter@tychen.us:~/class/labs/a01.tar.gz<span class="w"> </span>.
</pre></div>
</div>
<p>When you are connecting to a remote host for the first time, you will see a message as follows, type <code class="docutils literal notranslate"><span class="pre">yes</span></code> to accept the encryption key:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@vma50:~/class$<span class="w"> </span>scp<span class="w"> </span>datacenter@tychen.us:/home/datacenter/class/labs/a01.tar.gz<span class="w"> </span>.
The<span class="w"> </span>authenticity<span class="w"> </span>of<span class="w"> </span>host<span class="w"> </span><span class="s1">&#39;tychen.us (192.168.60.11)&#39;</span><span class="w"> </span>can<span class="err">&#39;</span>t<span class="w"> </span>be<span class="w"> </span>established.
ECDSA<span class="w"> </span>key<span class="w"> </span>fingerprint<span class="w"> </span>is<span class="w"> </span>SHA256:IMsssTgl/fs3Uc8m+yGBsNE/KjOtV6I9vqbqe66q1No.
Are<span class="w"> </span>you<span class="w"> </span>sure<span class="w"> </span>you<span class="w"> </span>want<span class="w"> </span>to<span class="w"> </span><span class="k">continue</span><span class="w"> </span>connecting<span class="w"> </span><span class="o">(</span>yes/no<span class="o">)</span>?<span class="w"> </span>yes
</pre></div>
</div>
<ol class="upperalpha simple" start="2">
<li><p>Extract compressed files:</p></li>
</ol>
<p>We use the command <code class="docutils literal notranslate"><span class="pre">tar</span></code> to archive (package), compress, and decompress files depending on the options/flags we use. The general syntax is <code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">[OPTION]</span> <span class="pre">TAR_FILE</span></code>. To extract/decompress an archive or compressed/zipped file, we use the <code class="docutils literal notranslate"><span class="pre">-x</span></code> option (extraction) and the <code class="docutils literal notranslate"><span class="pre">-f</span></code> option (file).</p>
<p>Now, let us extract the files from within <code class="docutils literal notranslate"><span class="pre">a01.tar.gz</span></code> assignment file into your class directory following the steps:</p>
<ul class="simple">
<li><p>Make sure you are in the <code class="docutils literal notranslate"><span class="pre">~/class</span></code> directory</p></li>
<li><p>Issue the command: <code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xf</span> <span class="pre">a01.tar.gz</span></code></p></li>
<li><p>To verify the extraction, issue the <code class="docutils literal notranslate"><span class="pre">ls</span></code> command in your <code class="docutils literal notranslate"><span class="pre">a01</span></code> directory to make sure you can find the <code class="docutils literal notranslate"><span class="pre">a01config</span></code>, <code class="docutils literal notranslate"><span class="pre">q01</span></code>, <code class="docutils literal notranslate"><span class="pre">q02</span></code>, and <code class="docutils literal notranslate"><span class="pre">q03</span></code> files (## some of them are directories but in Unix everything is a file).</p></li>
</ul>
</section>
<section id="check-your-work">
<h2><span class="section-number">1.1.5. </span>1.5 Check Your Work<a class="headerlink" href="#check-your-work" title="Link to this heading"></a></h2>
<p>You will use the bash script <code class="docutils literal notranslate"><span class="pre">check01.sh</span></code> in <code class="docutils literal notranslate"><span class="pre">a01/q01</span></code> to check your work of this part. Please perform the following steps:</p>
<ul class="simple">
<li><p>Change to your <code class="docutils literal notranslate"><span class="pre">class/a01/q01</span></code> directory.</p></li>
<li><p>Open the file <code class="docutils literal notranslate"><span class="pre">a01.txt</span></code> using the nano editor: <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">a01.txt</span></code></p></li>
<li><p>Use the arrow keys to move the cursor to the line starting with “A.”</p></li>
<li><p>Enter the word “DONE” on the line starting with “A.” (leave a space after the dot)</p></li>
<li><p>Save the file (using <code class="docutils literal notranslate"><span class="pre">Ctrl-X</span></code> in nano to exit, answer Yes to save, and enter to close the editor; note the nano bottom menu offers useful key-combinations)</p></li>
<li><p>Run the script <code class="docutils literal notranslate"><span class="pre">check01.sh</span></code> (issue <code class="docutils literal notranslate"><span class="pre">./check01.sh</span></code>) to check your answer. (# You should see all 5 OK’s.) (# the <code class="docutils literal notranslate"><span class="pre">.</span></code> of the <code class="docutils literal notranslate"><span class="pre">./check01.sh</span></code> instruction tells Unix-like systems to execute the script in the current environment/shell)</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Instead of <code class="docutils literal notranslate"><span class="pre">adduser</span></code>, you may use the command <code class="docutils literal notranslate"><span class="pre">useradd</span></code> for user and group operations. <code class="docutils literal notranslate"><span class="pre">useradd</span></code> is a native compiled binary executive file that comes with Linux, while <code class="docutils literal notranslate"><span class="pre">adduser</span></code> is a script using <code class="docutils literal notranslate"><span class="pre">useradd</span></code> to create user-friendly syntax. For more information, see this <a class="reference external" href="https://superuser.com/questions/547966/whats-the-difference-between-adduser-and-useradd">superuser.com Q&amp;A</a>.</p>
</div>
</section>
<section id="part-2-managing-web-content">
<h2><span class="section-number">1.1.6. </span>Part 2. Managing Web Content<a class="headerlink" href="#part-2-managing-web-content" title="Link to this heading"></a></h2>
<p>We will learn how to configure the Apache HTTP server to serve web contents to the Web for you to get a hands-on experience of information systems and server configuration.</p>
<p>Then, we will practice how to copy, compress and decompress, and move files. In the end, you will see how the data in the car dealership database (which we will use intensively later) look like. As you probably have found out, this assignment is quite integrative and it involves file operations to lead to later database operations.</p>
<section id="configure-apache-http-server">
<h3><span class="section-number">1.1.6.1. </span>2.1 Configure Apache HTTP Server<a class="headerlink" href="#configure-apache-http-server" title="Link to this heading"></a></h3>
<p>You should do this configuration as a system administrator (sudoer, namely, the your-last-name_admin account). The changes you make will affect all user accounts on your VM.</p>
<p>Apache is a popular Web server like Nginx and Microsoft IIS with a large market share.</p>
</section>
<section id="verifying-web-server-status">
<h3><span class="section-number">1.1.6.2. </span>2.2 Verifying Web Server Status<a class="headerlink" href="#verifying-web-server-status" title="Link to this heading"></a></h3>
<ol class="upperalpha simple">
<li><p>Check the HTTP server</p></li>
</ol>
<p>After installing Apache as instructed in Part 0, use a web browser to determine if your web server is serving as expected.</p>
<p>Visiting the URL of <a class="reference external" href="http://YOUR_IP_ADDRESS">http://YOUR_IP_ADDRESS</a>. You should see a standard “Apache2 Ubuntu Default Page” page indicating that the web server is working.</p>
<ol class="upperalpha simple" start="2">
<li><p>Change the index.html file:</p></li>
</ol>
<p><em>Note that, from time to time, you would need to use sudo to elevate your permission for changing files.</em></p>
<p>As a sudoer (if you are logged in as a regular user, which you should be, you can switch user su to a sudoer account or exit and log back in as a sudoer), cd to the web directory <code class="docutils literal notranslate"><span class="pre">/var/www/html</span></code>.</p>
<p>Issue an <code class="docutils literal notranslate"><span class="pre">ls</span></code> command and you should see the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file. Use <code class="docutils literal notranslate"><span class="pre">nano</span></code> to take a look at the contents of the file and you should see it contains a lot of HTML code. You should recognize some of the text (e.g., ^+W to search for “It works!”) to see that this file is the default Ubuntu Apache webpage. After confirming the file is correct, ^+X to close nano.</p>
<p>Change the name of <code class="docutils literal notranslate"><span class="pre">index.html</span></code> (e.g., <code class="docutils literal notranslate"><span class="pre">mv</span> <span class="pre">index.html</span> <span class="pre">index.html_APACHE</span></code>).</p>
<p>Create a new file with the name <code class="docutils literal notranslate"><span class="pre">index.html</span></code> with one line of text in it: “Keanu Reeves is my cousin.” Do not enter to add any blank lines. You can use <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">index.html</span></code> to create and edit and ^+X and Yes to save the file. You can use <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">index.html</span></code> to check file content.</p>
<p>View the <code class="docutils literal notranslate"><span class="pre">index.html</span></code> file in your browser typing the URL <a class="reference external" href="http://YOUR_IP_ADDRESS">http://YOUR_IP_ADDRESS</a> and make sure the text you entered above is visible.</p>
</section>
<section id="expanding-your-website">
<h3><span class="section-number">1.1.6.3. </span>2.3 Expanding Your Website<a class="headerlink" href="#expanding-your-website" title="Link to this heading"></a></h3>
<p>Often time, we do not create content but rather managing them. Next, we are going to expand the website to show a little information about the automobile dealerships, which is a dataset that we are going to use later. We will:</p>
<ol class="upperalpha simple">
<li><p>Copy and decompress files</p></li>
</ol>
<p>As a sudoer, copy the <code class="docutils literal notranslate"><span class="pre">~/class/a01/web.tar</span></code> file of the account your-last-name_user to the <code class="docutils literal notranslate"><span class="pre">/var/www/html</span></code> directory using <code class="docutils literal notranslate"><span class="pre">cp</span></code> (syntax: <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">file</span> <span class="pre">path</span></code>) to copy the archive file <code class="docutils literal notranslate"><span class="pre">web.tar</span></code> from the <code class="docutils literal notranslate"><span class="pre">a01</span></code> directory to your web directory; then extract the content of the archive: (### you may need to use sudo here every once in a while)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>cp<span class="w"> </span>THE_PATH/web.tar<span class="w">  </span>/var/www/html
<span class="nb">cd</span><span class="w"> </span>/var/www/html
tar<span class="w"> </span>-xvf<span class="w"> </span>web.tar

<span class="o">(</span><span class="c1"># -x is an option for extract; -v means verbose mode; -f means file)</span>
</pre></div>
</div>
<p>Follow the process above to complete this task.</p>
<ol class="upperalpha simple" start="2">
<li><p>View to check the content</p></li>
</ol>
<p>Use a browser to view <code class="docutils literal notranslate"><span class="pre">shs.html</span></code> (<a class="reference external" href="http://YOUR_IP_ADDRESS/shs.html">http://YOUR_IP_ADDRESS/shs.html</a>)</p>
<p>You should see the Southeastern Honda Sales webpage.</p>
<ol class="upperalpha simple" start="3">
<li><p>Delete a file</p></li>
</ol>
<p>Once you are convinced that your web directory is working,</p>
<p>delete (remove) the <code class="docutils literal notranslate"><span class="pre">web.tar</span></code> file from your <code class="docutils literal notranslate"><span class="pre">public_html</span></code> directory: <code class="docutils literal notranslate"><span class="pre">rm</span> <span class="pre">web.tar</span></code> (rm: remove).</p>
<ol class="upperalpha simple" start="4">
<li><p>Create an archive and compress it</p></li>
</ol>
<p>We want to use the <code class="docutils literal notranslate"><span class="pre">tar</span></code> (tape archive) command to create an archive (.tar) of the web content files and then compress (“zip”) the archive to a smaller file in size using the <code class="docutils literal notranslate"><span class="pre">gzip</span></code> command. The basic syntax of <code class="docutils literal notranslate"><span class="pre">tar</span></code> command to create archives is</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar<span class="w"> </span><span class="o">[</span>option<span class="o">(</span>s<span class="o">)]</span><span class="w"> </span>archive_name<span class="w"> </span>file_name<span class="o">(</span>s<span class="o">)</span>
</pre></div>
</div>
<p>and we use option -c (create a new archive; as opposed to the -x option for extracting files from an archive) and option -f (file) here. The process is as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>tar<span class="w"> </span>-cvf<span class="w"> </span>web.tar<span class="w"> </span>Logo.png<span class="w"> </span>new.html<span class="w"> </span>shs.html<span class="w"> </span>used.html<span class="w">  </span><span class="o">(</span>where<span class="w"> </span>-v<span class="w"> </span>means<span class="w"> </span>verbose,<span class="w"> </span>so<span class="w"> </span>we<span class="w"> </span>can<span class="w"> </span>see<span class="w"> </span>what<span class="w"> </span>files<span class="w"> </span>are<span class="w"> </span>included<span class="w"> </span><span class="k">in</span><span class="w"> </span>the<span class="w"> </span>archive<span class="o">)</span>
gzip<span class="w"> </span>web.tar<span class="w">  </span><span class="o">(</span>using<span class="w"> </span>the<span class="w"> </span>gzip<span class="w"> </span><span class="nb">command</span><span class="w"> </span><span class="k">for</span><span class="w"> </span>file<span class="w"> </span>compression<span class="o">)</span>
cp<span class="w"> </span>web.tar.gz<span class="w"> </span>/home/last-name_user/class/a01/q02<span class="w">  </span><span class="o">(</span><span class="c1"># copy the file to the working directory)</span>
</pre></div>
</div>
<p>Make sure you follow the process above to complete this task.</p>
</section>
<section id="id1">
<h3><span class="section-number">1.1.6.4. </span>2.4 Check Your Work<a class="headerlink" href="#id1" title="Link to this heading"></a></h3>
<p>As a regular user, change to your <code class="docutils literal notranslate"><span class="pre">class/a01/q02</span></code> directory.</p>
<p>Edit the file <code class="docutils literal notranslate"><span class="pre">a02.txt</span></code> using the command <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">a02.txt</span></code>.</p>
<p>Use the arrow keys to move the cursor to the line starting with “A.”</p>
<p>Enter the word “DONE” on the line starting with “A.” (leave a space before DONE).</p>
<p>Save the file (using Ctrl-X).</p>
<p>Run the script <code class="docutils literal notranslate"><span class="pre">check02.sh</span></code> (<code class="docutils literal notranslate"><span class="pre">./check02.sh</span></code>) to check your answers and receive feedback.</p>
</section>
</section>
<section id="part-3-redirecting-text-streams">
<h2><span class="section-number">1.1.7. </span>Part 3. Redirecting Text Streams<a class="headerlink" href="#part-3-redirecting-text-streams" title="Link to this heading"></a></h2>
<p>Manipulating files and text streams is an important part of learning Unix-like systems. To familiarize you with the Linux operating system (specifically, the Ubuntu Linux distribution in our case), we will practice some basic output redirection tasks (see, e.g., input/output redirection). We will use some Linux commands to output text streams (which by default are sent to the terminal, the standard output, or STDOUT), and then use the redirection operators to create, overwrite, append, and merge the text streams into text files.</p>
<ol class="upperalpha simple">
<li><p>Output redirection: Write/Overwrite</p></li>
</ol>
<p>The stream redirection operator <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> is an output redirector that redirects your text stream (generated by a command) to an output destination you specify, usually a text file. The syntax is <code class="docutils literal notranslate"><span class="pre">command</span> <span class="pre">[option]</span> <span class="pre">&gt;</span> <span class="pre">destination</span></code>.</p>
<p>Navigate to the tests directory in your home directory (<code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">~/tests/</span></code>), which you created earlier and</p>
<p>Use the output operator <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> to create two files as follows:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@vma50:~$<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>tests/
chen_user@vma50:~/tests$<span class="w"> </span>ps<span class="w"> </span>-aef<span class="w"> </span>&gt;<span class="w"> </span>jobs.txt<span class="w">  </span><span class="o">(</span><span class="c1"># ps: process status)</span>
chen_user@vma50:~/tests$<span class="w"> </span><span class="nb">pwd</span><span class="w"> </span>&gt;<span class="w"> </span>files.txt<span class="w">  </span><span class="o">(</span><span class="c1"># pwd: present working directory)</span>
chen_user@vma50:~/tests$<span class="w"> </span>ls
files.txt<span class="w">  </span>jobs.txt
chen_user@vma50:~/tests$
</pre></div>
</div>
<ol class="upperalpha simple" start="2">
<li><p>Output redirection: Append</p></li>
</ol>
<p>The stream redirection operator <code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span></code> will append the output text stream to the end of the destination file. The syntax is <code class="docutils literal notranslate"><span class="pre">command</span> <span class="pre">[option]</span> <span class="pre">&gt;&gt;</span> <span class="pre">destination</span></code>.</p>
<p>Before appending text, let’s take a look at the content of the original file first:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@vma50:~/tests$<span class="w"> </span>ls
files.txt<span class="w">  </span>jobs.txt
chen_user@vma50:~/tests$<span class="w"> </span>cat<span class="w"> </span>files.txt
/home/chen_user/tests
chen_user@vma50:~/tests$
</pre></div>
</div>
<p>Now let us try append some command output text to the <code class="docutils literal notranslate"><span class="pre">files.txt</span></code> we created:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>ls<span class="w"> </span>–la<span class="w"> </span>.<span class="w"> </span>&gt;&gt;<span class="w"> </span>files.txt
<span class="o">(</span><span class="c1"># . presents the current path, can be omitted here; ls: list storage; -l: long format; -a: all files)</span>
</pre></div>
</div>
<p>Now let’s take a look at the updated <code class="docutils literal notranslate"><span class="pre">files.txt</span></code> by using the <code class="docutils literal notranslate"><span class="pre">cat</span></code> command:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@vma50:~/tests$<span class="w"> </span>cat<span class="w"> </span>files.txt
/home/chen_user/tests
total<span class="w"> </span><span class="m">20</span>
drwxrwxr-x<span class="w"> </span><span class="m">2</span><span class="w"> </span>chen_user<span class="w"> </span>chen_user<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">02</span>:40<span class="w"> </span>.
drwxr-xr-x<span class="w"> </span><span class="m">8</span><span class="w"> </span>chen_user<span class="w"> </span>chen_user<span class="w"> </span><span class="m">4096</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">02</span>:39<span class="w"> </span>..
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>chen_user<span class="w"> </span>chen_user<span class="w">   </span><span class="m">23</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">02</span>:40<span class="w"> </span>files.txt
-rw-rw-r--<span class="w"> </span><span class="m">1</span><span class="w"> </span>chen_user<span class="w"> </span>chen_user<span class="w"> </span><span class="m">8190</span><span class="w"> </span>Jan<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">02</span>:39<span class="w"> </span>jobs.txt
chen_user@vma50:~/tests$
</pre></div>
</div>
<ol class="upperalpha simple" start="3">
<li><p>Merge text files</p></li>
</ol>
<p>We will use the <code class="docutils literal notranslate"><span class="pre">cat</span></code> (concatenate) command to create text streams to merge files. <code class="docutils literal notranslate"><span class="pre">cat</span></code>, by default, concatenates the text content of a file to the STDOUT (terminal). Instead of outputting to the terminal, we can use the output redirector <code class="docutils literal notranslate"><span class="pre">&gt;</span></code> to redirect the text streams into another file, i.e., to merge the two files. Note that if the file you are sending the text stream to a filename that does not exist, the file will be created to complete the redirection. An example of merging <code class="docutils literal notranslate"><span class="pre">a.txt</span></code> and <code class="docutils literal notranslate"><span class="pre">b.txt</span></code> is:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>chen_user@vma50:~/tests$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;aaaaa&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>a.txt
chen_user@vma50:~/tests$<span class="w"> </span><span class="nb">echo</span><span class="w"> </span><span class="s2">&quot;bbbbb&quot;</span><span class="w"> </span>&gt;<span class="w"> </span>b.txt
chen_user@vma50:~/tests$<span class="w"> </span>cat<span class="w"> </span>a.txt
aaaaa
chen_user@vma50:~/tests$<span class="w"> </span>cat<span class="w"> </span>b.txt
bbbbb
chen_user@vma50:~/tests$<span class="w"> </span>cat<span class="w"> </span>a.txt<span class="w"> </span>b.txt<span class="w"> </span>&gt;<span class="w"> </span>ab.txt
chen_user@vma50:~/tests$<span class="w"> </span>cat<span class="w"> </span>ab.txt
aaaaa
bbbbb
chen_user@vma50:~/tests$
</pre></div>
</div>
<p>Observe the example above, we understand that the syntax of using <code class="docutils literal notranslate"><span class="pre">cat</span></code> for merging file is to append the content of the second file to the end of the content of the first file. Now try to merge <code class="docutils literal notranslate"><span class="pre">jobs.txt</span></code> to the end of <code class="docutils literal notranslate"><span class="pre">files.txt</span></code> into a new file called <code class="docutils literal notranslate"><span class="pre">all.txt</span></code> using <code class="docutils literal notranslate"><span class="pre">cat</span></code> and the redirection operators. Don’t worry about making mistakes. They are easy to fix.</p>
<p>Copy the <code class="docutils literal notranslate"><span class="pre">*.txt</span></code> files (<code class="docutils literal notranslate"><span class="pre">files.txt</span></code>, <code class="docutils literal notranslate"><span class="pre">jobs.txt</span></code>, and <code class="docutils literal notranslate"><span class="pre">all.txt</span></code>) that you have created to your <code class="docutils literal notranslate"><span class="pre">~/class/a01/q03/</span></code> directory (<code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">*.txt</span> <span class="pre">../class/a01/q03/</span></code> or <code class="docutils literal notranslate"><span class="pre">cp</span> <span class="pre">all.txt</span> <span class="pre">files.txt</span> <span class="pre">jobs.txt</span> <span class="pre">../class/a01/q03/</span></code>).</p>
<section id="id2">
<h3><span class="section-number">1.1.7.1. </span>Check Your Work<a class="headerlink" href="#id2" title="Link to this heading"></a></h3>
<p>To check this part of the assignment:</p>
<p>Change to your <code class="docutils literal notranslate"><span class="pre">class/a01/q03</span></code> directory.</p>
<p>Edit the file <code class="docutils literal notranslate"><span class="pre">a03.txt</span></code> using the command <code class="docutils literal notranslate"><span class="pre">nano</span> <span class="pre">a03.txt</span></code>.</p>
<p>Use the arrow keys to move the cursor to the line starting with “A.”</p>
<p>Enter the word “DONE” on the line starting with “A.”.</p>
<p>Save the file (using Ctrl-X).</p>
<p>Run the script <code class="docutils literal notranslate"><span class="pre">check03.sh</span></code> (<code class="docutils literal notranslate"><span class="pre">./check03.sh</span></code>) to check your answer.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Other redirection operators such as input redirection operator <code class="docutils literal notranslate"><span class="pre">&lt;</span></code> can be used in the while loop to input a file for iterative processing.</p>
<p>A great introduction to Linux I/O redirection can be found at <a class="reference external" href="https://www.digitalocean.com/community/tutorials/an-introduction-to-linux-i-o-redirection">DigitalOcean</a>, which is very simple and readable.</p>
<p>The pipe operator <code class="docutils literal notranslate"><span class="pre">|</span></code>, as one of the control operators, will come handy later when we use the <code class="docutils literal notranslate"><span class="pre">grep</span></code> command to search through text file/stream and pass the text stream over to chain next commands.</p>
<p>A short list of control and redirection operators can be found at <a class="reference external" href="https://unix.stackexchange.com/questions/159513/what-are-the-shells-control-and-redirection-operators">StackExchange</a>.</p>
</div>
<div class="toctree-wrapper compound">
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="week1.html" class="btn btn-neutral float-left" title="1. Week 1" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="02.homework1.html" class="btn btn-neutral float-right" title="1.2. Homework 01: Linux Basics" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>