<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>4.2. Homework 03: Grep, Alias, Env Var, &amp; Function &mdash; ist5001 1.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />
      <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=cd5dafa7" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=f2a433a1"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="5. Week 4" href="../04.week4/week4.html" />
    <link rel="prev" title="4.1. Lab 03: Conditional Redirection And Environment (ENVs &amp; Aliases)" href="01.lab3.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ist5001
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../00.week0/week0.html">1. week 0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../01.week1/week1.html">2. Week 1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../02.week2/week2.html">3. Week 2</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="week3.html">4. Week 3</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="01.lab3.html">4.1. Lab 03: Conditional Redirection And Environment (ENVs &amp; Aliases)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">4.2. Homework 03: Grep, Alias, Env Var, &amp; Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#assignment-instruction">4.2.1. Assignment Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="#getting-started">4.2.2. Getting Started</a></li>
<li class="toctree-l3"><a class="reference internal" href="#when-you-are-done">4.2.3. When You Are Done</a></li>
<li class="toctree-l3"><a class="reference internal" href="#running-the-script">4.2.4. Running the Script</a></li>
<li class="toctree-l3"><a class="reference internal" href="#checking-vm-s-ip-address">4.2.5. Checking VM’s IP Address</a></li>
<li class="toctree-l3"><a class="reference internal" href="#question-1-tar-grep">4.2.6. Question 1. tar &amp; grep</a></li>
<li class="toctree-l3"><a class="reference internal" href="#ignore-extra-output">4.2.7. Ignore Extra Output</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tips">4.2.8. Tips</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tar-recursion">4.2.9. <code class="docutils literal notranslate"><span class="pre">tar</span></code> Recursion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#question-2-alias-environment-variable-and-function">4.2.10. Question 2. alias, environment variable, and function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-a">4.2.11. Part A</a></li>
<li class="toctree-l3"><a class="reference internal" href="#alias-assignment">4.2.12. Alias Assignment</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-b">4.2.13. Part B</a></li>
<li class="toctree-l3"><a class="reference internal" href="#environment-variable-syntax">4.2.14. Environment Variable Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-c">4.2.15. Part C</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-d">4.2.16. Part D</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-tar-command">4.2.17. Using the <code class="docutils literal notranslate"><span class="pre">tar</span></code> Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#two-ways-to-run-functions">4.2.18. Two Ways to Run Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#part-e">4.2.19. Part E</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-creation">4.2.20. Function Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bash-function-syntax">4.2.21. Bash Function Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-the-rm-command">4.2.22. Using the <code class="docutils literal notranslate"><span class="pre">rm</span></code> Command</a></li>
<li class="toctree-l3"><a class="reference internal" href="#directories-as-files">4.2.23. Directories as Files</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-practice">4.2.24. Common Practice</a></li>
<li class="toctree-l3"><a class="reference internal" href="#question-3-tar-tape-archive">4.2.25. Question 3. tar: tape archive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#statements">4.2.26. Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#question-4-grep-global-regular-expression-print">4.2.27. Question 4. grep: global regular expression print</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id1">4.2.28. Statements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#question-5-alias-environment-variable">4.2.29. Question 5. alias &amp; Environment Variable</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id2">4.2.30. Statements</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../04.week4/week4.html">5. Week 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../05.week5/week5.html">6. Week 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="../06.week6/week6.html">7. Week 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../07.week7/week7.html">8. Week 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../08.appendix/appendix.html">9. Appendix</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ist5001</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="week3.html"><span class="section-number">4. </span>Week 3</a></li>
      <li class="breadcrumb-item active"><span class="section-number">4.2. </span>Homework 03: Grep, Alias, Env Var, &amp; Function</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/03.week3/02.homework3.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="homework-03-grep-alias-env-var-function">
<h1><span class="section-number">4.2. </span>Homework 03: Grep, Alias, Env Var, &amp; Function<a class="headerlink" href="#homework-03-grep-alias-env-var-function" title="Link to this heading"></a></h1>
<section id="assignment-instruction">
<h2><span class="section-number">4.2.1. </span>Assignment Instruction<a class="headerlink" href="#assignment-instruction" title="Link to this heading"></a></h2>
<p>To successfully complete this assignment, you are advised to pay attention to the following:</p>
<ol class="arabic simple">
<li><p><strong>Follow instructions:</strong> Read, interpret, and follow instructions very carefully. Finish reading the whole question and note the requirements before you start working on the question.</p></li>
<li><p><strong>Use resources:</strong> You may use any resources available to you via the web. You are encouraged to discuss the problems with others before you sit down and attempt to answer the questions.</p></li>
<li><p><strong>Work independently:</strong> While you are completing the questions, you are expected to work on your own without direct help from other people (non-human resources such as search engines are still allowed).</p></li>
<li><p><strong>Work together:</strong> Come to the office hours to work as a group on the interpretation of and solutions to questions. When using text messaging, attach screenshots.</p></li>
<li><p><strong>For introduction to basic Linux and shell commands and special characters, see:</strong>
- <code class="docutils literal notranslate"><span class="pre">Linux</span> <span class="pre">&amp;</span> <span class="pre">shell</span> <span class="pre">basic</span> <span class="pre">commands</span> <span class="pre">&lt;https://bashnet.org/docs/linux_shell_commands.php&gt;</span></code>
- <code class="docutils literal notranslate"><span class="pre">Linux</span> <span class="pre">&amp;</span> <span class="pre">shell</span> <span class="pre">special</span> <span class="pre">characters</span> <span class="pre">&lt;https://bashnet.org/docs/linux_special_characters.php&gt;</span></code></p></li>
</ol>
</section>
<section id="getting-started">
<h2><span class="section-number">4.2.2. </span>Getting Started<a class="headerlink" href="#getting-started" title="Link to this heading"></a></h2>
<ol class="arabic simple">
<li><p><strong>class directory:</strong> To begin this assignment, make sure you navigate into the class directory under your user home directory.</p></li>
<li><p><strong>scp the tar file:</strong> Use <code class="docutils literal notranslate"><span class="pre">scp</span></code> to copy the tar file <code class="docutils literal notranslate"><span class="pre">h03.tar.gz</span></code> from <code class="docutils literal notranslate"><span class="pre">datacenter&#64;tychen.us</span></code> to your <code class="docutils literal notranslate"><span class="pre">~/class</span></code> directory. The command is: <code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">datacenter&#64;tychen.us:~/class/hw/h03.tar.gz</span> <span class="pre">.</span></code> (### don’t forget the <code class="docutils literal notranslate"><span class="pre">.</span></code> at the end of the command) and the password is <code class="docutils literal notranslate"><span class="pre">InCharge56!</span></code></p></li>
<li><p><strong>unzip the tar file:</strong> Extract the contents of the tar file: <code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xf</span> <span class="pre">h03.tar.gz</span></code>. Once the files are extracted, you should see the <code class="docutils literal notranslate"><span class="pre">h03</span></code> folder (a directory containing several directories and files) in your class directory. These are the files you need to complete this assignment.</p></li>
<li><p><strong>h03:</strong> Unless otherwise specified in the question, all file names are given relative to the directory <code class="docutils literal notranslate"><span class="pre">~/class/h03</span></code>.</p></li>
<li><p><strong>Passwords:</strong> All the account names and the corresponding passwords are recorded in Canvas Assignment <code class="docutils literal notranslate"><span class="pre">a00</span></code>, where you keep them updated.</p></li>
</ol>
</section>
<section id="when-you-are-done">
<h2><span class="section-number">4.2.3. </span>When You Are Done<a class="headerlink" href="#when-you-are-done" title="Link to this heading"></a></h2>
<p>When you have completed the assignment:</p>
<ol class="arabic simple">
<li><p><strong>done.sh:</strong> Run the script <code class="docutils literal notranslate"><span class="pre">done.sh</span></code> in <code class="docutils literal notranslate"><span class="pre">~/class</span></code> as follows:
<code class="docutils literal notranslate"><span class="pre">./done.sh</span> <span class="pre">firstname</span> <span class="pre">lastname</span> <span class="pre">h03</span></code> (The <code class="docutils literal notranslate"><span class="pre">done.sh</span></code> script is part of Assignment <code class="docutils literal notranslate"><span class="pre">h01</span></code>.)</p></li>
<li><p><strong>hwk03.txt:</strong> The <code class="docutils literal notranslate"><span class="pre">done.sh</span></code> script will check your answers and create a new .txt called <code class="docutils literal notranslate"><span class="pre">hwk03.txt</span></code> in the <code class="docutils literal notranslate"><span class="pre">h03</span></code> directory that you will need to submit to Canvas for assignment <code class="docutils literal notranslate"><span class="pre">h03</span></code>.</p></li>
<li><p><strong>Download hwk03.txt to submit to Canvas:</strong> From your local computer terminal (cmd or PowerShell for Windows and Terminal for macOS), change into a folder (e.g., <code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">Documents</span></code> to go into your Documents folder). Use the <code class="docutils literal notranslate"><span class="pre">scp</span></code> command to copy your submission file from your VM to your local computer’s Documents folder:
<code class="docutils literal notranslate"><span class="pre">scp</span> <span class="pre">YOUR_USERNAME&#64;YOUR_VM_IP_ADDRESS:~/class/h03/hwk03.txt</span> <span class="pre">.</span></code></p></li>
</ol>
</section>
<section id="running-the-script">
<h2><span class="section-number">4.2.4. </span>Running the Script<a class="headerlink" href="#running-the-script" title="Link to this heading"></a></h2>
<p>You can run the <code class="docutils literal notranslate"><span class="pre">done.sh</span></code> script at any point when you are working on the assignment, and the content of the generated <code class="docutils literal notranslate"><span class="pre">hwk03.txt</span></code> may be helpful in addition to the check scripts in each question. However, you must run it just prior to submitting the generated <code class="docutils literal notranslate"><span class="pre">hwk03.txt</span></code> file in your <code class="docutils literal notranslate"><span class="pre">class/h03</span></code> directory to Canvas to make sure you are submitting the most recent file.</p>
</section>
<section id="checking-vm-s-ip-address">
<h2><span class="section-number">4.2.5. </span>Checking VM’s IP Address<a class="headerlink" href="#checking-vm-s-ip-address" title="Link to this heading"></a></h2>
<p>To see your VM’s IP address, run <code class="docutils literal notranslate"><span class="pre">ip</span> <span class="pre">addr</span></code> or <code class="docutils literal notranslate"><span class="pre">ifconfig</span></code> (installation of net-tools required).</p>
</section>
<section id="question-1-tar-grep">
<h2><span class="section-number">4.2.6. </span>Question 1. tar &amp; grep<a class="headerlink" href="#question-1-tar-grep" title="Link to this heading"></a></h2>
<p>Create a script named <code class="docutils literal notranslate"><span class="pre">q01.sh</span></code> that will do the following (in the order specified below) from the directory <code class="docutils literal notranslate"><span class="pre">h03/q01</span></code>. (Before putting the commands in the script, it is a good idea to test them at the command line first. Also, you probably want to use two terminals: one for editing and one for running/testing; it helps a lot with the workflow.)</p>
<ol class="arabic simple">
<li><p>Uses <code class="docutils literal notranslate"><span class="pre">tar</span></code> to extract all files ending in html from the <code class="docutils literal notranslate"><span class="pre">web.tar.gz</span></code> into your <code class="docutils literal notranslate"><span class="pre">q01</span></code> directory.</p></li>
<li><p>Uses <code class="docutils literal notranslate"><span class="pre">grep</span></code> to display all of the href definitions (case insensitive) in the html files extracted from <code class="docutils literal notranslate"><span class="pre">web.tar.gz</span></code>.</p></li>
</ol>
</section>
<section id="ignore-extra-output">
<h2><span class="section-number">4.2.7. </span>Ignore Extra Output<a class="headerlink" href="#ignore-extra-output" title="Link to this heading"></a></h2>
<p>When running <code class="docutils literal notranslate"><span class="pre">done.sh</span></code>, you may see this warning below. It’s harmless as long as your check script runs correctly.</p>
<p>Question 1: Needs more work. <code class="docutils literal notranslate"><span class="pre">a01.txt</span></code> - 1 of 1 correct, <code class="docutils literal notranslate"><span class="pre">check01.sh</span></code> gets incorrect answer.</p>
<p>When running the check script, if you see <code class="docutils literal notranslate"><span class="pre">grep:</span> <span class="pre">web/links.html:</span> <span class="pre">binary</span> <span class="pre">file</span> <span class="pre">matches</span></code>, your version of <code class="docutils literal notranslate"><span class="pre">grep</span></code> is generating an extra line of that output at the end of the <code class="docutils literal notranslate"><span class="pre">grep</span></code> results. It’s safe to ignore it.</p>
<p>Do not forget to <code class="docutils literal notranslate"><span class="pre">chmod</span></code> first.</p>
</section>
<section id="tips">
<h2><span class="section-number">4.2.8. </span>Tips<a class="headerlink" href="#tips" title="Link to this heading"></a></h2>
<p>In this question, we are writing a script to perform two actions: <code class="docutils literal notranslate"><span class="pre">tar</span></code> and <code class="docutils literal notranslate"><span class="pre">grep</span></code> (global regular expression print, or search). You are asked to extract files of certain extension filename (<code class="docutils literal notranslate"><span class="pre">*.html</span></code>) (although all files in the tar file are <code class="docutils literal notranslate"><span class="pre">.html</span></code> files) and then to <code class="docutils literal notranslate"><span class="pre">grep</span></code> (search) for a certain string (“href”, case insensitive) recursively because some <code class="docutils literal notranslate"><span class="pre">.html</span></code> files are in a sub-directory.</p>
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">The tar command</span><a class="headerlink" href="#id3" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-cf</span> <span class="pre">tar_filename</span> <span class="pre">file_to_be_archived</span></code></p></td>
<td><p>c create a .tar archive file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-czf</span> <span class="pre">tar_filename</span> <span class="pre">file_to_be_archived</span></code></p></td>
<td><p>create a zipped .tar.gz file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-czfv</span> <span class="pre">tar_filename</span> <span class="pre">file_to_be_archived</span></code></p></td>
<td><p>create a .tar.gz file and show process (verbose)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-tf</span> <span class="pre">tarfile</span></code></p></td>
<td><p>preview tar file content</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xf</span> <span class="pre">tarfile</span> <span class="pre">filename</span></code></p></td>
<td><p>extract filename from tarfile</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xf</span> <span class="pre">tarfile</span> <span class="pre">--wildcards</span> <span class="pre">&quot;*.extension&quot;</span></code></p></td>
<td><p>extract all files with <code class="docutils literal notranslate"><span class="pre">&quot;*.extension&quot;</span></code> from tarfile. Use this one to satisfy the tar requirement.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="tar-recursion">
<h2><span class="section-number">4.2.9. </span><code class="docutils literal notranslate"><span class="pre">tar</span></code> Recursion<a class="headerlink" href="#tar-recursion" title="Link to this heading"></a></h2>
<p><strong>Note that ``tar`` by default will recurse into directories unless you use the ``–no-recursion`` option.</strong></p>
<p>The <code class="docutils literal notranslate"><span class="pre">grep</span></code> command has a syntax of <code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">[PATTERN]</span> <span class="pre">[FILE...]</span></code>. Note it can search multiple files at the same time. You may use wildcards to specify the file extension to search.</p>
<p>In this question, two <code class="docutils literal notranslate"><span class="pre">grep</span></code> options <code class="docutils literal notranslate"><span class="pre">-i</span></code> (case insensitive) and <code class="docutils literal notranslate"><span class="pre">-r</span></code> (recursive) can be useful since we want the search both “href” and “HREF” and we want to search the <code class="docutils literal notranslate"><span class="pre">*.html</span></code> files under a directory at the same time as well. You can do <code class="docutils literal notranslate"><span class="pre">man</span> <span class="pre">grep</span></code> to find out more about <code class="docutils literal notranslate"><span class="pre">grep</span></code>.</p>
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">Some commonly used grep options</span><a class="headerlink" href="#id4" title="Link to this table"></a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Command</p></th>
<th class="head"><p>Function</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">&quot;string&quot;</span> <span class="pre">file.txt</span></code></p></td>
<td><p>basic syntax; print lines matching the pattern</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">&quot;string&quot;</span> <span class="pre">file1</span> <span class="pre">file2</span> <span class="pre">file3...</span></code></p></td>
<td><p>search for multiple files</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-r</span> <span class="pre">&quot;string&quot;</span> <span class="pre">directory/</span></code></p></td>
<td><p>search multiple files recursively through directory tree</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">&quot;string&quot;</span> <span class="pre">*.txt</span> <span class="pre">directory/*.txt</span></code></p></td>
<td><p>search for string in .txt files in this directory and the .txt files in directory</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-n</span> <span class="pre">&quot;string&quot;</span> <span class="pre">file</span></code></p></td>
<td><p>show line numbers</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-i</span> <span class="pre">&quot;string&quot;</span> <span class="pre">file</span></code></p></td>
<td><p>case insensitive</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-c</span> <span class="pre">&quot;string&quot;</span> <span class="pre">file</span></code></p></td>
<td><p>count the search results</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-v</span> <span class="pre">&quot;string&quot;</span> <span class="pre">file</span></code></p></td>
<td><p>invert match</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-h</span> <span class="pre">&quot;string&quot;</span> <span class="pre">file</span></code></p></td>
<td><p>no file name for multiple file; default for single file</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-E</span> <span class="pre">'foo|bar'</span> <span class="pre">file.txt</span></code></p></td>
<td><p>search for both foo and bar in file.txt; <code class="docutils literal notranslate"><span class="pre">-E</span></code>: extended regular expression</p></td>
</tr>
</tbody>
</table>
</section>
<section id="question-2-alias-environment-variable-and-function">
<h2><span class="section-number">4.2.10. </span>Question 2. alias, environment variable, and function<a class="headerlink" href="#question-2-alias-environment-variable-and-function" title="Link to this heading"></a></h2>
<p>Create a file called <code class="docutils literal notranslate"><span class="pre">q02.sh</span></code> that defines the alias, environment variables, and functions with the names and behavior described as follows.</p>
</section>
<section id="part-a">
<h2><span class="section-number">4.2.11. </span>Part A<a class="headerlink" href="#part-a" title="Link to this heading"></a></h2>
<p>Create an alias with the name <code class="docutils literal notranslate"><span class="pre">accounts</span></code> to list all the user account names on your computer system by listing the files in the <code class="docutils literal notranslate"><span class="pre">/home</span></code> directory.</p>
</section>
<section id="alias-assignment">
<h2><span class="section-number">4.2.12. </span>Alias Assignment<a class="headerlink" href="#alias-assignment" title="Link to this heading"></a></h2>
<p>When performing alias assignments, the use of single quotes is preferred, unless you need to expand tilde (<code class="docutils literal notranslate"><span class="pre">~</span></code>). When unquoted, <code class="docutils literal notranslate"><span class="pre">~</span></code> will be expanded to have the value of global variable <code class="docutils literal notranslate"><span class="pre">$HOME</span></code>.</p>
<p>The syntax for creating aliases is <code class="docutils literal notranslate"><span class="pre">alias</span> <span class="pre">Alias_Name='your</span> <span class="pre">customized</span> <span class="pre">command</span> <span class="pre">here'</span></code>. Note that aliases give us a way of customizing commands.</p>
</section>
<section id="part-b">
<h2><span class="section-number">4.2.13. </span>Part B<a class="headerlink" href="#part-b" title="Link to this heading"></a></h2>
<p>Create an environment variable named <code class="docutils literal notranslate"><span class="pre">Q2</span></code> that is equal to the full pathname for your <code class="docutils literal notranslate"><span class="pre">class/h03/q02</span></code> directory.</p>
</section>
<section id="environment-variable-syntax">
<h2><span class="section-number">4.2.14. </span>Environment Variable Syntax<a class="headerlink" href="#environment-variable-syntax" title="Link to this heading"></a></h2>
<p>We use the <code class="docutils literal notranslate"><span class="pre">export</span></code> command to set environment variables with the syntax of <code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">ENV_Name='value'</span></code>. To check if an environment variable is set, use <code class="docutils literal notranslate"><span class="pre">printenv</span> <span class="pre">env_var_name</span></code>.</p>
</section>
<section id="part-c">
<h2><span class="section-number">4.2.15. </span>Part C<a class="headerlink" href="#part-c" title="Link to this heading"></a></h2>
<p>In your user home directory, create a directory called <code class="docutils literal notranslate"><span class="pre">public_html</span></code>, then create an environment variable in <code class="docutils literal notranslate"><span class="pre">q02.sh</span></code> named <code class="docutils literal notranslate"><span class="pre">WEB</span></code> that is equal to the pathname for your <code class="docutils literal notranslate"><span class="pre">public_html</span></code> directory.</p>
</section>
<section id="part-d">
<h2><span class="section-number">4.2.16. </span>Part D<a class="headerlink" href="#part-d" title="Link to this heading"></a></h2>
<p>Create a function with the name <code class="docutils literal notranslate"><span class="pre">extract</span></code> that extracts the files from a compressed tar file named <code class="docutils literal notranslate"><span class="pre">a0X.tar.gz</span></code> (where X is a number between 1 and 9 provided to the function when performing the function call) and redirects the list of the filenames extracted to the file <code class="docutils literal notranslate"><span class="pre">tX.txt</span></code>.</p>
</section>
<section id="using-the-tar-command">
<h2><span class="section-number">4.2.17. </span>Using the <code class="docutils literal notranslate"><span class="pre">tar</span></code> Command<a class="headerlink" href="#using-the-tar-command" title="Link to this heading"></a></h2>
<p>We are interested in the names of the files extracted, so we need the <code class="docutils literal notranslate"><span class="pre">-v</span></code> option (v for verbose) when using <code class="docutils literal notranslate"><span class="pre">tar</span></code> because it gives us the names of the files being extracted from the tar ball as a text stream.</p>
</section>
<section id="two-ways-to-run-functions">
<h2><span class="section-number">4.2.18. </span>Two Ways to Run Functions<a class="headerlink" href="#two-ways-to-run-functions" title="Link to this heading"></a></h2>
<p>There are two ways to run the functions in our case here:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">source</span></code>: With the <code class="docutils literal notranslate"><span class="pre">source</span></code> (or <code class="docutils literal notranslate"><span class="pre">.</span></code>) command we can run the script and make the variables (the aliases, environment variables, and functions) available in the current shell session. We can use this feature to check to see if our variables are defined correctly by running the script and then, for example, call the function from shell.</p></li>
<li><p>When running an executable by <code class="docutils literal notranslate"><span class="pre">./</span></code>, the script runs in an individual shell session and all variables in the session will not be passed to other sessions. To check if our variables work as desired, you may write the code in the script to check the variables and print out the results.</p></li>
</ul>
</section>
<section id="part-e">
<h2><span class="section-number">4.2.19. </span>Part E<a class="headerlink" href="#part-e" title="Link to this heading"></a></h2>
<p>Create a second function called <code class="docutils literal notranslate"><span class="pre">cleanup</span></code> that, when called as <code class="docutils literal notranslate"><span class="pre">cleanup</span> <span class="pre">X</span></code>, would</p>
<ol class="arabic simple">
<li><p>remove the <code class="docutils literal notranslate"><span class="pre">tX.txt</span></code> file and</p></li>
<li><p>remove the <code class="docutils literal notranslate"><span class="pre">a0X</span></code> directory and its content created by the <code class="docutils literal notranslate"><span class="pre">extract</span></code> function above.</p></li>
</ol>
</section>
<section id="function-creation">
<h2><span class="section-number">4.2.20. </span>Function Creation<a class="headerlink" href="#function-creation" title="Link to this heading"></a></h2>
<p>Make sure that typing <code class="docutils literal notranslate"><span class="pre">source</span> <span class="pre">q02.sh</span></code> defines the alias, function, and variables as described.</p>
<p>Use the file <code class="docutils literal notranslate"><span class="pre">check02.sh</span></code> to check your work.</p>
</section>
<section id="bash-function-syntax">
<h2><span class="section-number">4.2.21. </span>Bash Function Syntax<a class="headerlink" href="#bash-function-syntax" title="Link to this heading"></a></h2>
<p>A Bash function can take two formats:</p>
<ul class="simple">
<li><dl class="simple">
<dt>function <code class="docutils literal notranslate"><span class="pre">function_name</span></code> {</dt><dd><p>[commands…]</p>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><p>}</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">function_name</span></code> {</dt><dd><p>[commands…]</p>
</dd>
</dl>
</li>
</ul>
<blockquote>
<div><p>}</p>
</div></blockquote>
<p>A function can return or not return a value to the caller.</p>
</section>
<section id="using-the-rm-command">
<h2><span class="section-number">4.2.22. </span>Using the <code class="docutils literal notranslate"><span class="pre">rm</span></code> Command<a class="headerlink" href="#using-the-rm-command" title="Link to this heading"></a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rm</span></code> (remove files and directories) should work better than <code class="docutils literal notranslate"><span class="pre">rmdir</span></code> here because <code class="docutils literal notranslate"><span class="pre">rmdir</span></code> only removes empty directories. When removing directories, the options <code class="docutils literal notranslate"><span class="pre">-r</span></code> (recursive) and <code class="docutils literal notranslate"><span class="pre">-f</span></code> (force remove, no prompt, like a silent mode) are good to consider.</p>
</section>
<section id="directories-as-files">
<h2><span class="section-number">4.2.23. </span>Directories as Files<a class="headerlink" href="#directories-as-files" title="Link to this heading"></a></h2>
<p>Directories are files, too.</p>
</section>
<section id="common-practice">
<h2><span class="section-number">4.2.24. </span>Common Practice<a class="headerlink" href="#common-practice" title="Link to this heading"></a></h2>
<p>It’s a common practice to put your alias definitions in <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> (or <code class="docutils literal notranslate"><span class="pre">~/.bash_aliases</span></code> as suggested in Ubuntu) so they are made available next time you start a shell session because <code class="docutils literal notranslate"><span class="pre">~/.bashrc</span></code> will be sourced when the shell starts.</p>
</section>
<section id="question-3-tar-tape-archive">
<h2><span class="section-number">4.2.25. </span>Question 3. tar: tape archive<a class="headerlink" href="#question-3-tar-tape-archive" title="Link to this heading"></a></h2>
<p>For the following statements, determine which of the statements are true (T) and which are false (F). Enter T or F for the corresponding letters in the file <code class="docutils literal notranslate"><span class="pre">q03/a03.txt</span></code>.</p>
</section>
<section id="statements">
<h2><span class="section-number">4.2.26. </span>Statements<a class="headerlink" href="#statements" title="Link to this heading"></a></h2>
<ol class="upperalpha simple">
<li><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xf</span> <span class="pre">tar_filename</span></code> will create a tar file.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xvf</span> <span class="pre">tar_filename</span></code> will show a list of filenames being extracted.</p></li>
<li><p>When creating a tar file, it is important to use <code class="docutils literal notranslate"><span class="pre">tar</span></code> as part of the extension name.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-xvf</span> <span class="pre">the_archive</span> <span class="pre">--wildcards</span> <span class="pre">‘your_wild_card’</span></code> will extract archived files according to the <code class="docutils literal notranslate"><span class="pre">your_wild_card</span></code> pattern.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tar</span> <span class="pre">-tf</span> <span class="pre">archive_name</span></code> will list the names of the archived files for preview.</p></li>
<li><p>When using the <code class="docutils literal notranslate"><span class="pre">tar</span></code> command, the <code class="docutils literal notranslate"><span class="pre">-f</span></code> option is used to specify the filename of the archive to be created or extracted.</p></li>
</ol>
</section>
<section id="question-4-grep-global-regular-expression-print">
<h2><span class="section-number">4.2.27. </span>Question 4. grep: global regular expression print<a class="headerlink" href="#question-4-grep-global-regular-expression-print" title="Link to this heading"></a></h2>
<p>For the following statements, determine which of the statements are true (T) and which are false (F). Enter T or F for the corresponding letters in the file <code class="docutils literal notranslate"><span class="pre">q03/a04.txt</span></code>.</p>
</section>
<section id="id1">
<h2><span class="section-number">4.2.28. </span>Statements<a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<ol class="upperalpha simple">
<li><p>“grep” stands for “global regex print.”</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">&quot;href&quot;</span> <span class="pre">sgs.html</span></code> means search for the href string in the file sgs.html.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">'href'</span> <span class="pre">sgs.html</span></code> will give us the same results as <code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">sgs.html</span> <span class="pre">|</span> <span class="pre">grep</span> <span class="pre">href</span></code>.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">&quot;href&quot;</span> <span class="pre">sgs.html</span> <span class="pre">|</span> <span class="pre">wc</span> <span class="pre">-l</span></code> will count the number of “href” found in sgs.html.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/var/www/html/index.html</span></code> will give us 1 if you have not changed the content of the index.html file since last assignment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cat</span> <span class="pre">/var/www/html/index.html</span> <span class="pre">|</span> <span class="pre">wc</span> <span class="pre">-l</span></code> will give us 1 if you have not changed the content of the index.html file since last assignment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-v</span> <span class="pre">&quot;href&quot;</span> <span class="pre">sgs.html</span></code> will return all the lines in the sgs.html file that do not contain the string “href”.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">grep</span> <span class="pre">-i</span> <span class="pre">&quot;href&quot;</span> <span class="pre">sgs.html</span></code> will return all the lines in the sgs.html file that contain the string “href” and “HREF”.</p></li>
</ol>
</section>
<section id="question-5-alias-environment-variable">
<h2><span class="section-number">4.2.29. </span>Question 5. alias &amp; Environment Variable<a class="headerlink" href="#question-5-alias-environment-variable" title="Link to this heading"></a></h2>
<p>Identify the following statements as either true (“T”) or false (“F”).</p>
</section>
<section id="id2">
<h2><span class="section-number">4.2.30. </span>Statements<a class="headerlink" href="#id2" title="Link to this heading"></a></h2>
<ol class="upperalpha simple">
<li><p>An environment variable in Unix-like operating systems is used to create shortcuts to commands and files.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">printenv</span></code> command will show a list of aliases in the environment.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">export</span> <span class="pre">PATH=$PATH:~/bin</span></code> will add “~/bin” to the end of the PATH variable.</p></li>
<li><p>We can issue the <code class="docutils literal notranslate"><span class="pre">alias</span></code> command to see all the aliases defined in current shell.</p></li>
<li><p>The POSIX standards require aliases to be defined in the <code class="docutils literal notranslate"><span class="pre">.bashrc</span></code> file in the user home directory.</p></li>
<li><p>When we issue <code class="docutils literal notranslate"><span class="pre">type</span> <span class="pre">ll</span></code> at the command line we will see that <code class="docutils literal notranslate"><span class="pre">ll</span></code> is a defined alias, not an environment variable.</p></li>
</ol>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="01.lab3.html" class="btn btn-neutral float-left" title="4.1. Lab 03: Conditional Redirection And Environment (ENVs &amp; Aliases)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../04.week4/week4.html" class="btn btn-neutral float-right" title="5. Week 4" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>